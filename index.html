<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <title>Latin Dictionary | Search in Latin or English</title>

    <!-- Meta Description -->
    <meta
      name="description"
      content="Latin Dictionary is your resource for finding words in both Latin and English. Search, filter by part of speech, and discover new words."
    />

    <!-- Meta Keywords -->
    <meta
      name="keywords"
      content="Latin dictionary, Latin to English, English to Latin, word search, language learning, part of speech filter, random words"
    />

    <!-- Open Graph for Social Media Sharing -->
    <meta
      property="og:title"
      content="Latin Dictionary | Search in Latin or English"
    />
    <meta
      property="og:description"
      content="Use the Latin Dictionary to find translations and definitions for words in Latin and English."
    />
    <meta
      property="og:image"
      content="Resources/Icons/android-chrome-512x512.png"
    />
    <meta property="og:url" content="https://osloandrew.github.io/Latin/" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="Resources/Icons/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="Resources/Icons/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="Resources/Icons/favicon-16x16.png"
    />

    <!-- Google Fonts -->
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Grenze+Gotisch:wght@100..900&display=swap");
    </style>

    <!-- External Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>

    <!-- Font Awesome CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <!-- Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-M5H81RF3DT"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-M5H81RF3DT");
    </script>
  </head>

  <body>
    <header>
      <h1 id="site-title" onclick="returnToLandingPage()">Latin Dictionary</h1>
      <p id="site-subtitle">Search in Latin or English</p>
    </header>

    <div id="sticky-header" class="hidden">
      <button id="back-button">← Back to Stories</button>
      <button id="toggle-english-btn" class="toggle-btn">Show English</button>
    </div>

    <main>
      <!-- Search container with full-width background -->
      <section id="search-container">
        <div id="search-container-inner">
          <!-- Grouped Selectors (Type and POS) -->
          <div class="selectors-wrapper">
            <!-- Words/Sentences Selector -->
            <div class="type-filter">
              <select
                id="type-select"
                aria-label="Search by words or sentences"
                onchange="handleTypeChange(this.value)"
              >
                <option value="words">Words</option>
                <option value="sentences">Sentences</option>
                <option value="stories">Stories</option>
                <option value="word-game">Word Game</option>
              </select>
              <i class="fas fa-chevron-down"></i>
            </div>

            <!-- POS Selector -->
            <div class="pos-filter">
              <select
                id="pos-select"
                onchange="search()"
                aria-label="Filter by part of speech"
              >
                <option value="">Word Class</option>
                <option value="noun">Noun</option>
                <option value="adjective">Adjective</option>
                <option value="verb">Verb</option>
                <option value="adverb">Adverb</option>
                <option value="preposition">Preposition</option>
                <option value="numeral">Numeral</option>
                <option value="conjunction">Conjunction</option>
                <option value="interjection">Interjection</option>
                <option value="pronoun">Pronoun</option>
              </select>
              <i class="fas fa-chevron-down"></i>
            </div>

            <!-- Genre Selector -->
            <div
              class="genre-filter"
              id="genre-filter"
              aria-label="Filter by genre"
              style="display: none"
            >
              <select id="genre-select" onchange="handleGenreChange()">
                <option value="">Genre</option>
                <option value="biography">Biography</option>
                <option value="culture">Culture</option>
                <option value="dialogue">Dialogue</option>
                <option value="drama">Drama</option>
                <option value="fantasy">Fantasy</option>
                <option value="food">Food</option>
                <option value="health">Health</option>
                <option value="history">History</option>
                <option value="horror">Horror</option>
                <option value="language">Language</option>
                <option value="monologue">Monologue</option>
                <option value="philosophy">Philosophy</option>
                <option value="politics">Politics</option>
                <option value="psychology">Psychology</option>
                <option value="science">Science</option>
                <option value="science fiction">Science Fiction</option>
                <option value="technology">Technology</option>
                <option value="travel">Travel</option>
              </select>
              <i class="fas fa-chevron-down"></i>
            </div>

            <!-- Game-English Selector -->
            <div
              class="game-english-filter"
              id="game-english-filter"
              aria-label="Show or hide English"
              style="display: none"
            >
              <select id="game-english-select" onchange="toggleGameEnglish()">
                <option value="show-english">Show English</option>
                <option value="hide-english">Hide English</option>
              </select>
              <i class="fas fa-chevron-down"></i>
            </div>

            <!-- CEFR Level Selector -->
            <div class="cefr-filter">
              <select
                id="cefr-select"
                onchange="search()"
                aria-label="Filter by CEFR level"
              >
                <option value="">Level</option>
                <option value="A1">A1</option>
                <option value="A2">A2</option>
                <option value="B1">B1</option>
                <option value="B2">B2</option>
                <option value="C">C</option>
              </select>
              <i class="fas fa-chevron-down"></i>
              <i
                id="lock-icon"
                class="fas fa-lock-open"
                title="Toggle level lock"
                onclick="toggleLevelLock()"
              ></i>
            </div>
          </div>

          <!-- Grouped Search Bar and Random Button -->
          <div class="search-and-random-wrapper">
            <!-- Search Bar -->
            <div id="search-bar-wrapper" class="search-bar-wrapper">
              <input
                type="text"
                id="search-bar"
                placeholder=" "
                onkeydown="handleKey(event)"
                aria-label="Search for Latin or English words"
              />
              <button
                id="clear-btn"
                class="clear-btn"
                aria-label="Clear search field"
                onclick="clearInput()"
              >
                <i class="fas fa-xmark"></i>
              </button>
              <button
                id="search-btn"
                class="search-btn"
                aria-label="Search for the word"
                onclick="search()"
              >
                <i class="fas fa-search"></i>
              </button>
            </div>

            <!-- Random Button -->
            <button
              id="random-btn"
              class="random-btn"
              aria-label="Generate a random word"
              onclick="randomWord(),popChime.currentTime = 0, popChime.play()"
              title="Generate a random word"
            >
              <i class="fas fa-dice"></i>
            </button>
          </div>
        </div>
      </section>

      <div id="loading-spinner" class="spinner" style="display: none"></div>
      <!-- Moved outside the results-container -->
      <div id="landing-card" class="definition">
        <h2>
          Welcome to the <br />
          Latin Dictionary
        </h2>
        <p style="text-align: center">
          Explore Latin vocabulary interactively. <br />
          Click on one of the buttons below to get started.
        </p>

        <div class="landing-card-button-grid">
          <!-- Dictionary Search Button -->
          <div class="button-container">
            <img
              class="landing-card-image"
              src="Resources/Photos/words.svg"
              alt="Words"
            />
            <button class="landing-card-btn" onclick="selectType('words')">
              Dictionary Search
            </button>
            <p>Discover words and their meanings with detailed examples.</p>
          </div>

          <!-- Sentence Search Button -->
          <div class="button-container">
            <img
              class="landing-card-image"
              src="Resources/Photos/sentences.svg"
              alt="Sentences"
            />
            <button class="landing-card-btn" onclick="selectType('sentences')">
              Sentence Search
            </button>
            <p>Explore real sentences in context using your chosen words.</p>
          </div>

          <!-- Latin Stories Button -->
          <div class="button-container">
            <img
              class="landing-card-image"
              src="Resources/Photos/stories.svg"
              alt="Stories"
            />
            <button class="landing-card-btn" onclick="selectType('stories')">
              Latin Stories
            </button>
            <p>
              Immerse yourself in fiction and non-fiction to deepen your
              language skills.
            </p>
          </div>

          <!-- Word Game Button -->
          <div class="button-container">
            <img
              class="landing-card-image"
              src="Resources/Photos/word-game.svg"
              alt="Word Games"
            />
            <button class="landing-card-btn" onclick="selectType('word-game')">
              Word Game
            </button>
            <p>
              Master vocabulary with an interactive game that adapts to your
              skill level.
            </p>
          </div>

          <!-- Pronunciation Guide Button -->
          <div class="button-container">
            <img
              class="landing-card-image"
              src="Resources/Photos/pronunciation.svg"
              alt="Pronunciation"
            />
            <button
              class="landing-card-btn"
              id="toggle-pronunciation"
              onclick="togglePronunciationGuide()"
            >
              Pronunciation Guide
            </button>
            <p>Perfect your pronunciation by learning Latin sounds.</p>
          </div>

          <!-- Support Button -->
          <div class="button-container">
            <img
              class="landing-card-image"
              src="Resources/Photos/support.svg"
              alt="Support the Project"
            />
            <a
              href="https://www.buymeacoffee.com/afeinberg4l"
              target="_blank"
              rel="noopener noreferrer"
              style="text-decoration: none"
            >
              <button class="landing-card-btn">Support the Project</button>
            </a>
            <p>
              Help keep this resource free and growing — every little bit makes
              a difference!
            </p>
          </div>
        </div>

        <div class="pronunciation-wrapper hidden">
          <h3>Latin Pronunciation Guide for English Speakers</h3>
          <p>
            Classical Latin had five steady vowel phonemes and a consistent set
            of consonant patterns. This guide uses IPA and notes some
            differences between Classical Latin and later Medieval or
            Ecclesiastical Latin (Church Latin as used in Italy).
          </p>

          <table class="pronunciation-table">
            <thead>
              <tr>
                <th>Latin Sound</th>
                <th>Pronunciation Symbol</th>
                <th>Example (Latin)</th>
                <th>Similar English Sound</th>
              </tr>
            </thead>
            <tbody>
              <!-- VOWELS -->
              <tr>
                <td data-label="Latin Sound">a</td>
                <td data-label="Pronunciation Symbol">/a/</td>
                <td data-label="Example (Latin)">pater [ˈpa.tɛr]</td>
                <td data-label="Similar English Sound">
                  Like "a" in "father," but shorter and steadier
                </td>
              </tr>
              <tr>
                <td data-label="Latin Sound">e</td>
                <td data-label="Pronunciation Symbol">/e/</td>
                <td data-label="Example (Latin)">mensa [ˈmɛn.sa]</td>
                <td data-label="Similar English Sound">
                  Between "bait" and "bet," no glide
                </td>
              </tr>
              <tr>
                <td data-label="Latin Sound">i</td>
                <td data-label="Pronunciation Symbol">/i/</td>
                <td data-label="Example (Latin)">viri [ˈwi.riː]</td>
                <td data-label="Similar English Sound">
                  "ee" in "machine," but shorter
                </td>
              </tr>
              <tr>
                <td data-label="Latin Sound">o</td>
                <td data-label="Pronunciation Symbol">/o/</td>
                <td data-label="Example (Latin)">bonus [ˈbo.nus]</td>
                <td data-label="Similar English Sound">
                  "o" in "story," without glide
                </td>
              </tr>
              <tr>
                <td data-label="Latin Sound">u</td>
                <td data-label="Pronunciation Symbol">/u/</td>
                <td data-label="Example (Latin)">lupus [ˈlu.pus]</td>
                <td data-label="Similar English Sound">
                  "oo" in "food," but shorter
                </td>
              </tr>

              <!-- CONSONANTS -->
              <tr>
                <td data-label="Latin Sound">c (always hard)</td>
                <td data-label="Pronunciation Symbol">/k/</td>
                <td data-label="Example (Latin)">cicero [ˈki.ke.roː]</td>
                <td data-label="Similar English Sound">"k" in "cat"</td>
              </tr>
              <tr>
                <td data-label="Latin Sound">g (always hard)</td>
                <td data-label="Pronunciation Symbol">/ɡ/</td>
                <td data-label="Example (Latin)">gaudium [ˈɡau̯.di.um]</td>
                <td data-label="Similar English Sound">"g" in "go"</td>
              </tr>
              <tr>
                <td data-label="Latin Sound">v (written u)</td>
                <td data-label="Pronunciation Symbol">/w/</td>
                <td data-label="Example (Latin)">vinum [ˈwiː.num]</td>
                <td data-label="Similar English Sound">"w" in "wine"</td>
              </tr>
              <tr>
                <td data-label="Latin Sound">i (consonantal)</td>
                <td data-label="Pronunciation Symbol">/j/</td>
                <td data-label="Example (Latin)">Iulius [ˈjuː.li.us]</td>
                <td data-label="Similar English Sound">"y" in "yes"</td>
              </tr>
              <tr>
                <td data-label="Latin Sound">r</td>
                <td data-label="Pronunciation Symbol">/r/ (trilled)</td>
                <td data-label="Example (Latin)">Roma [ˈroː.ma]</td>
                <td data-label="Similar English Sound">Scottish rolled r</td>
              </tr>
              <tr>
                <td data-label="Latin Sound">s</td>
                <td data-label="Pronunciation Symbol">/s/</td>
                <td data-label="Example (Latin)">sol [soːl]</td>
                <td data-label="Similar English Sound">"s" in "see"</td>
              </tr>
              <tr>
                <td data-label="Latin Sound">t</td>
                <td data-label="Pronunciation Symbol">/t/</td>
                <td data-label="Example (Latin)">terra [ˈtɛr.ra]</td>
                <td data-label="Similar English Sound">
                  "t" in "stop," never "th"
                </td>
              </tr>
              <tr>
                <td data-label="Latin Sound">ph, th, ch</td>
                <td data-label="Pronunciation Symbol">
                  /pʰ tʰ kʰ/ (aspirated)
                </td>
                <td data-label="Example (Latin)">
                  philosophia [pʰi.lo.soˈpʰi.a]
                </td>
                <td data-label="Similar English Sound">
                  Like strong "p, t, k" with a puff of air
                </td>
              </tr>
            </tbody>
          </table>

          <h4>Stress and Vowel Length</h4>
          <p>
            Latin had no stress accents like English; instead, stress fell by
            rule: in words of two syllables, stress is always on the first. In
            longer words, stress falls on the penultimate syllable if it is
            long, otherwise on the antepenultimate. Classical Latin also
            distinguished long and short vowels, written in modern editions with
            macrons: <strong>mālum</strong> (apple) vs
            <strong>malum</strong> (evil).
          </p>

          <h4>Varieties of Pronunciation</h4>
          <p>
            <strong>Classical Latin:</strong> reconstructed from Roman
            grammarians, inscriptions, and comparative linguistics.<br />
            <strong>Ecclesiastical (Italianate) Latin:</strong> later Church
            style; <em>c</em> before e,i → [t͡ʃ] ("church"), <em>g</em> before
            e,i → [d͡ʒ] ("gem"), <em>v</em> → [v].<br />
            <strong>Medieval variants:</strong> local influences (French,
            German, English) altered <em>c, g, v</em> differently depending on
            region.
          </p>

          <h4>Helpful Symbols and Conventions</h4>
          <p>
            IPA brackets [ ] show exact sounds; slashes / / show phonemes.
            Macrons (¯) mark long vowels. Consonantal <strong>i</strong> is
            pronounced [j]. The letter <strong>v</strong> in Classical texts is
            written as <strong>u</strong> but pronounced [w].
          </p>
        </div>
      </div>
      <section id="story-viewer" style="display: none">
        <div id="story-content"></div>
      </section>
      <section id="results-container">
        <ul id="stories" class="stories-list"></ul>
      </section>
    </main>

    <audio id="audio-player" style="display: none" controls></audio>

    <footer>
      <div class="links">
        <a
          href="https://www.linkedin.com/in/afeinberg1/"
          target="_blank"
          rel="noopener noreferrer"
          class="linkedin-btn"
        >
          <img
            src="Resources/Icons/linkedin-icon.png"
            alt="LinkedIn Logo"
            class="linkedin-icon"
          /><span>Connect with me on LinkedIn</span>
        </a>
        <a href="https://www.buymeacoffee.com/afeinberg4l" class="coffee-btn">
          <img
            src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=afeinberg4l&button_colour=0d3a69&font_colour=ffffff&font_family=Lato&outline_colour=ffffff&coffee_colour=FFDD00"
            class="coffee-img"
          />
        </a>

        <!-- Site switcher -->
        <select
          id="site-switcher"
          aria-label="Go to another site"
          style="
            background: #fff;
            border: 1px solid #052242;
            border-radius: 6px;
            cursor: pointer;
            font: inherit;
            font-size: 12px;
            letter-spacing: 0.3px;
            padding: 5px;
            text-transform: uppercase;
          "
        >
          <option value="">Other Languages</option>
          <option value="hebrew">Hebrew</option>
          <option value="japanese">Japanese</option>
          <option value="latin">Latin</option>
          <option value="norwegian">Norwegian</option>
          <option value="spanish">Spanish</option>
        </select>
      </div>
      <p class="copyright">© 2025 Latin Dictionary</p>
    </footer>
    <script>
      // Language site switcher -> navigates to https://osloandrew.github.io/{slug}/
      document.addEventListener("DOMContentLoaded", () => {
        const switcher = document.getElementById("site-switcher");
        if (!switcher) return;

        // Always start on the default (blank) option
        switcher.value = "";

        switcher.addEventListener("change", () => {
          const slug = switcher.value;
          if (!slug) return;
          // Always go to the root-level language folder
          location.href = `${location.origin}/${slug}/`;
        });
      });
    </script>
    <script src="noRandom.js" defer></script>
    <script src="scripts.js" defer></script>
    <script src="wordGame.js" defer></script>
    <script src="stories.js" defer></script>
  </body>
</html>
